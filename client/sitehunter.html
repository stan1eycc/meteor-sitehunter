<head>
  <title>Site Hunter</title>
</head>

<body>
</body>

<template name="ApplicationLayout">
  {{> yield "navbar"}}
  {{> yield "main"}}
</template>

<template name="navbar">
  <!-- navbar  - you will be putting the login functions here -->
  <nav class="navbar navbar-fixed-top navbar-inverse">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">Site Hunter</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li class="active"><a href="/">Home</a></li>
        </ul>

        <ul class="nav navbar-nav navbar-right">
          {{> search_bar}}
          {{#if currentUser}}
            {{> website_form}}
          {{/if}}
    			{{> loginButtons}}
    		</ul>
      </div><!-- /.nav-collapse -->
    </div><!-- /.container -->
  </nav><!-- /.navbar -->
</template>

<template name="home">
  <!-- Main jumbotron for a primary marketing message or call to action -->
  <div class="jumbotron">
    <div class="container">
      <h1>Site Hunter!!</h1>
      <p>
        Share and vote your favorite web sites here. Sign up/in by your email before you join the discussion. <b>Each account has a vote for each site only.</b>
      </p>
    </div>
  </div>

  <div class="container">
    {{> website_list}}
    <hr>
    <footer>
      <p>&copy; 2016 Pure Expectation Company, Inc.</p>
    </footer>
  </div> <!-- /container -->
</template>

<template name="website_form">
  <li class="dropdown">
    <a class="dropdown-toggle" href="#" data-toggle="dropdown" id="navLogin">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>&nbsp; Add Site
    </a>
    <div class="dropdown-menu" style="padding:17px;">
      <form class="js-save-website-form">
        <div class="form-group">
  		    <label for="url">Site address</label>
  		    <input type="text" class="form-control" id="url" placeholder="http://www.mysite.com">
  		  </div>
        <div class="form-group">
  		    <label for="title">Title</label>
  		    <input type="text" class="form-control" id="title" placeholder="Mysite">
  		  </div>
        <div class="form-group">
		      <label for="description">Description</label>
		      <input type="text" class="form-control" id="description" placeholder="I found this site really useful for ...">
		    </div>
        <div class="form-group">
          <button type="submit" class="btn btn-default">Submit</button>
        </div>
      </form>
    </div>
  </li>
</template>

<!-- template that displays several website items -->
<template name="website_list">
  <div class="row">
    {{#each websites}}
	  {{>website_item}}
	  {{/each}}
  </div>
</template>

<!-- template that displays individual website entries -->
<template name="website_item">
  <div class="col-md-6">
    <div class="panel panel-info">
      <div class="panel-heading">
        <h3><a href="/{{_id}}">{{title}}</a></h3>
      </div>
      <div class="panel-body">
        <p>{{description}}</p>
        <div class="text-right"><small>{{createdOn}}</small></div>
      </div>
      <div class="panel-footer text-right">
          <b>Vote:&nbsp;</b>
          {{#if currentUser}}
          <a href="#" class="btn btn-default js-upvote">
              <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
            &nbsp;{{upvotecount}}&nbsp;
          </a>
          <a href="#" class="btn btn-default js-downvote">
            <span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span>
            &nbsp;{{downvotecount}}&nbsp;
          </a>
          {{else}}
          <a href="#" class="btn btn-default js-upvote" disabled="true">
              <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
            &nbsp;{{upvotecount}}&nbsp;
          </a>
          <a href="#" class="btn btn-default js-downvote" disabled="true">
            <span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span>
            &nbsp;{{downvotecount}}&nbsp;
          </a>
          {{/if}}
      </div>
    	<!-- you will be putting your up and down vote buttons in here! -->
    </div>
  </div>
</template>

<template name="detail">
  <!-- Main jumbotron for a primary marketing message or call to action -->
  <div class="jumbotron">
    <div class="container">
      <h1>{{title}}</h1>
      <p>{{description}}</p>
      <p><a class="btn btn-primary btn-lg" href="{{url}}" role="button">Link &raquo;</a></p>
    </div>
  </div>

  <div class="container">
    <div class="comment-section">
      {{> commentsBox id=_id}}
    </div>
    <hr>
    <footer>
      <p>&copy; 2016 Pure Expectation Company, Inc.</p>
    </footer>
  </div> <!-- /container -->
</template>

<template name="search_bar">
  <form class="navbar-form navbar-left">
    <input type="text" class="form-control js-search" id="searchtxt" placeholder="Search...">
  </form>
</template>
